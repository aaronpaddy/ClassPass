// Test script to verify face differentiation

// Simulate different face descriptors
const yourFaceDescriptor = {
    "0": -0.23149272799491882, "1": 0.08099737018346786, "2": 0.16816599667072296, "3": -0.03680846095085144,
    "4": -0.01876801997423172, "5": -0.12891533970832825, "6": 0.049002859741449356, "7": -0.05285424366593361,
    "8": 0.07390197366476059, "9": -0.04686502367258072, "10": 0.25914597511291504, "11": -0.062336113303899765,
    "12": -0.22667242586612701, "13": -0.14942745864391327, "14": 0.0786973163485527, "15": 0.10734464228153229,
    "16": -0.19124947488307953, "17": -0.13005869090557098, "18": -0.028823386877775192, "19": -0.1289815455675125,
    "20": -0.02916131354868412, "21": 0.04693041369318962, "22": -0.0013991676969453692, "23": 0.08112266659736633,
    "24": -0.03190727159380913, "25": -0.2814278304576874, "26": -0.10577427595853806, "27": -0.17658165097236633,
    "28": 0.09970475733280182, "29": -0.03696197271347046, "30": 0.050607629120349884, "31": 0.06584882736206055,
    "32": -0.14657089114189148, "33": -0.022715838626027107, "34": -0.06002189218997955, "35": 0.0392029844224453,
    "36": 0.04272415488958359, "37": -0.011883349157869816, "38": 0.1936255246400833, "39": -0.013182957656681538,
    "40": -0.12051758915185928, "41": -0.11181680113077164, "42": -0.03665534406900406, "43": 0.34188488125801086,
    "44": 0.1253269761800766, "45": 0.01974157989025116, "46": -0.030055448412895203, "47": 0.1126025915145874,
    "48": 0.020377710461616516, "49": -0.22713106870651245, "50": 0.02078847400844097, "51": 0.17751695215702057,
    "52": 0.17395001649856567, "53": 0.005967193748801947, "54": 0.0007008411339484155, "55": -0.10553491115570068,
    "56": -0.004977956414222717, "57": 0.059306781738996506, "58": -0.21007758378982544, "59": 0.08506888896226883,
    "60": 0.05403463914990425, "61": -0.14462432265281677, "62": -0.044863808900117874, "63": -0.058302681893110275,
    "64": 0.3087220788002014, "65": 0.11286510527133942, "66": -0.12725268304347992, "67": -0.10154761373996735,
    "68": 0.19596271216869354, "69": -0.1300012320280075, "70": -0.07793818414211273, "71": 0.10574847459793091,
    "72": -0.17520634829998016, "73": -0.07429201155900955, "74": -0.23752208054065704, "75": 0.09346670657396317,
    "76": 0.29013314843177795, "77": 0.08552047610282898, "78": -0.15558287501335144, "79": -0.006377001293003559,
    "80": -0.1968277543783188, "81": 0.03484160453081131, "82": 0.005164532456547022, "83": 0.027707455679774284,
    "84": -0.11223629862070084, "85": 0.008099349215626717, "86": -0.13076959550380707, "87": -0.024142073467373848,
    "88": 0.11918702721595764, "89": -0.01803942210972309, "90": -0.05186472833156586, "91": 0.20541644096374512,
    "92": -0.014976849779486656, "93": 0.00461242999881506, "94": -0.011719298548996449, "95": -0.09731583297252655,
    "96": 0.0622500516474247, "97": -0.0677654966711998, "98": -0.07290561497211456, "99": -0.0050522093661129475,
    "100": 0.07070622593164444, "101": -0.11953508108854294, "102": -0.005544248037040234, "103": 0.10038068890571594,
    "104": -0.19433562457561493, "105": 0.0837922915816307, "106": 0.04718813672661781, "107": 0.02063228003680706,
    "108": -0.00261151441372931, "109": 0.06292267888784409, "110": -0.12284138053655624, "111": -0.06339039653539658,
    "112": 0.19374050199985504, "113": -0.2072409987449646, "114": 0.2149098664522171, "115": 0.20364771783351898,
    "116": 0.020385470241308212, "117": 0.09643115848302841, "118": 0.030904574319720268, "119": 0.07091120630502701,
    "120": -0.0868031233549118, "121": -0.0909578800201416, "122": -0.08699695020914078, "123": -0.06040705740451813,
    "124": 0.12742039561271667, "125": -0.03747767582535744, "126": 0.042710985988378525, "127": 0.05868111178278923
};

const aliceFaceDescriptor = {
    "0": 0.1, "1": -0.2, "2": 0.3, "3": -0.1, "4": 0.2, "5": -0.3, "6": 0.1, "7": -0.2,
    "8": 0.3, "9": -0.1, "10": 0.2, "11": -0.3, "12": 0.1, "13": -0.2, "14": 0.3, "15": -0.1,
    "16": 0.2, "17": -0.3, "18": 0.1, "19": -0.2, "20": 0.3, "21": -0.1, "22": 0.2, "23": -0.3,
    "24": 0.1, "25": -0.2, "26": 0.3, "27": -0.1, "28": 0.2, "29": -0.3, "30": 0.1, "31": -0.2,
    "32": 0.3, "33": -0.1, "34": 0.2, "35": -0.3, "36": 0.1, "37": -0.2, "38": 0.3, "39": -0.1,
    "40": 0.2, "41": -0.3, "42": 0.1, "43": -0.2, "44": 0.3, "45": -0.1, "46": 0.2, "47": -0.3,
    "48": 0.1, "49": -0.2, "50": 0.3, "51": -0.1, "52": 0.2, "53": -0.3, "54": 0.1, "55": -0.2,
    "56": 0.3, "57": -0.1, "58": 0.2, "59": -0.3, "60": 0.1, "61": -0.2, "62": 0.3, "63": -0.1,
    "64": 0.2, "65": -0.3, "66": 0.1, "67": -0.2, "68": 0.3, "69": -0.1, "70": 0.2, "71": -0.3,
    "72": 0.1, "73": -0.2, "74": 0.3, "75": -0.1, "76": 0.2, "77": -0.3, "78": 0.1, "79": -0.2,
    "80": 0.3, "81": -0.1, "82": 0.2, "83": -0.3, "84": 0.1, "85": -0.2, "86": 0.3, "87": -0.1,
    "88": 0.2, "89": -0.3, "90": 0.1, "91": -0.2, "92": 0.3, "93": -0.1, "94": 0.2, "95": -0.3,
    "96": 0.1, "97": -0.2, "98": 0.3, "99": -0.1, "100": 0.2, "101": -0.3, "102": 0.1, "103": -0.2,
    "104": 0.3, "105": -0.1, "106": 0.2, "107": -0.3, "108": 0.1, "109": -0.2, "110": 0.3, "111": -0.1,
    "112": 0.2, "113": -0.3, "114": 0.1, "115": -0.2, "116": 0.3, "117": -0.1, "118": 0.2, "119": -0.3,
    "120": 0.1, "121": -0.2, "122": 0.3, "123": -0.1, "124": 0.2, "125": -0.3, "126": 0.1, "127": -0.2
};

const bobFaceDescriptor = {
    "0": -0.5, "1": 0.8, "2": -0.3, "3": 0.6, "4": -0.2, "5": 0.7, "6": -0.4, "7": 0.9,
    "8": -0.1, "9": 0.5, "10": -0.6, "11": 0.3, "12": -0.8, "13": 0.2, "14": -0.4, "15": 0.7,
    "16": -0.3, "17": 0.6, "18": -0.2, "19": 0.8, "20": -0.5, "21": 0.4, "22": -0.7, "23": 0.1,
    "24": -0.9, "25": 0.3, "26": -0.6, "27": 0.5, "28": -0.2, "29": 0.8, "30": -0.4, "31": 0.7,
    "32": -0.1, "33": 0.6, "34": -0.3, "35": 0.9, "36": -0.5, "37": 0.2, "38": -0.8, "39": 0.4,
    "40": -0.7, "41": 0.1, "42": -0.6, "43": 0.5, "44": -0.3, "45": 0.8, "46": -0.2, "47": 0.7,
    "48": -0.4, "49": 0.6, "50": -0.1, "51": 0.9, "52": -0.5, "53": 0.3, "54": -0.8, "55": 0.2,
    "56": -0.7, "57": 0.4, "58": -0.6, "59": 0.1, "60": -0.9, "61": 0.5, "62": -0.3, "63": 0.8,
    "64": -0.2, "65": 0.7, "66": -0.4, "67": 0.6, "68": -0.1, "69": 0.9, "70": -0.5, "71": 0.3,
    "72": -0.8, "73": 0.2, "74": -0.7, "75": 0.4, "76": -0.6, "77": 0.1, "78": -0.9, "79": 0.5,
    "80": -0.3, "81": 0.8, "82": -0.2, "83": 0.7, "84": -0.4, "85": 0.6, "86": -0.1, "87": 0.9,
    "88": -0.5, "89": 0.3, "90": -0.8, "91": 0.2, "92": -0.7, "93": 0.4, "94": -0.6, "95": 0.1,
    "96": -0.9, "97": 0.5, "98": -0.3, "99": 0.8, "100": -0.2, "101": 0.7, "102": -0.4, "103": 0.6,
    "104": -0.1, "105": 0.9, "106": -0.5, "107": 0.3, "108": -0.8, "109": 0.2, "110": -0.7, "111": 0.4,
    "112": -0.6, "113": 0.1, "114": -0.9, "115": 0.5, "116": -0.3, "117": 0.8, "118": -0.2, "119": 0.7,
    "120": -0.4, "121": 0.6, "122": -0.1, "123": 0.9, "124": -0.5, "125": 0.3, "126": -0.8, "127": 0.2
};

// Convert to arrays for comparison
const yourArray = Object.values(yourFaceDescriptor);
const aliceArray = Object.values(aliceFaceDescriptor);
const bobArray = Object.values(bobFaceDescriptor);

console.log('ğŸ§ª Testing Face Differentiation...\n');

// Calculate distances
const distanceToAlice = Math.sqrt(
    yourArray.reduce((sum, val, i) => sum + Math.pow(val - aliceArray[i], 2), 0)
);

const distanceToBob = Math.sqrt(
    yourArray.reduce((sum, val, i) => sum + Math.pow(val - bobArray[i], 2), 0)
);

console.log(`ğŸ“ Distance to Alice: ${distanceToAlice.toFixed(4)}`);
console.log(`ğŸ“ Distance to Bob: ${distanceToBob.toFixed(4)}`);
console.log(`ğŸ“ Distance to yourself: 0.0000 (perfect match)`);

console.log('\nğŸ¯ Analysis:');
console.log(`âœ… Your face vs Alice: ${distanceToAlice < 0.8 ? 'DIFFERENT PEOPLE' : 'SAME PERSON'} (threshold: 0.8)`);
console.log(`âœ… Your face vs Bob: ${distanceToBob < 0.8 ? 'DIFFERENT PEOPLE' : 'SAME PERSON'} (threshold: 0.8)`);

console.log('\nğŸ“Š Expected Results:');
console.log('â€¢ When you test with your face â†’ Should recognize YOU (distance < 0.8)');
console.log('â€¢ When you test with your face â†’ Should NOT recognize Alice (distance > 0.8)');
console.log('â€¢ When you test with your face â†’ Should NOT recognize Bob (distance > 0.8)');
console.log('â€¢ When you test with your face â†’ Should NOT recognize Carol (distance > 0.8)');

console.log('\nğŸ” Test Instructions:');
console.log('1. Go to http://localhost:3000');
console.log('2. Start attendance monitoring');
console.log('3. Look at the camera');
console.log('4. Check console logs for distance comparisons');
console.log('5. You should see your face recognized, but NOT the test users'); 